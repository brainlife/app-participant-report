#!/bin/bash

t1=$(jq -r .t1 config.json)
bold=$(jq -r .bold config.json)
wmcsurfaces=$(jq -r .wmcsurfaces config.json)
wmctracts=$(jq -r .wmctracts config.json)

set -ex

mkdir -p output/html
cat templates/header.html > output/html/index.html

if [ -e "$t1" ]; then
    echo "handling anat $t1"
    cp $t1 output/html
    cat templates/t1.html >> output/html/index.html
fi

if [ -e "$bold" ]; then
    echo "handling func"
    cp $bold output/html
    cat templates/bold.html >> output/html/index.html
fi

if [ -d "$wmcsurfaces" ]; then
    echo "handling wmc"
    cp -r $wmcsurfaces output/html
    cp -r $wmctracts output/html
    cat templates/wmc.html >> output/html/index.html
fi

cat templates/footer.html >> output/html/index.html
